<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>System Inspector Pro</title>
  <style>
    :root {
      --bg-primary: #0f172a;
      --bg-secondary: #1e293b;
      --bg-card: #334155;
      --text-primary: #f8fafc;
      --text-secondary: #cbd5e1;
      --text-muted: #94a3b8;
      --accent-primary: #3b82f6;
      --accent-secondary: #8b5cf6;
      --accent-success: #10b981;
      --accent-warning: #f59e0b;
      --accent-danger: #ef4444;
      --border-color: #475569;
      --shadow: rgba(0, 0, 0, 0.3);
      --gradient-1: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      --gradient-2: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
    }

    [data-theme="light"] {
      --bg-primary: #f8fafc;
      --bg-secondary: #f1f5f9;
      --bg-card: #ffffff;
      --text-primary: #0f172a;
      --text-secondary: #334155;
      --text-muted: #64748b;
      --border-color: #e2e8f0;
      --shadow: rgba(0, 0, 0, 0.1);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Inter", sans-serif;
      background: var(--bg-primary);
      color: var(--text-primary);
      line-height: 1.6;
      padding: 20px;
      transition: background 0.3s ease, color 0.3s ease;
    }

    .container {
      max-width: 1400px;
      margin: 0 auto;
    }

    .header {
      background: var(--gradient-1);
      padding: 30px;
      border-radius: 16px;
      margin-bottom: 30px;
      box-shadow: 0 10px 30px var(--shadow);
      position: relative;
      overflow: hidden;
    }

    .header::before {
      content: '';
      position: absolute;
      top: -50%;
      right: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
      animation: pulse 8s ease-in-out infinite;
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); opacity: 0.5; }
      50% { transform: scale(1.1); opacity: 0.8; }
    }

    .header-content {
      position: relative;
      z-index: 1;
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      gap: 20px;
    }

    .header h1 {
      font-size: 2.5rem;
      font-weight: 700;
      color: white;
      margin-bottom: 5px;
      text-shadow: 0 2px 10px rgba(0,0,0,0.3);
    }

    .header-subtitle {
      color: rgba(255,255,255,0.9);
      font-size: 1rem;
    }

    .header-controls {
      display: flex;
      gap: 10px;
      align-items: center;
    }

    .btn {
      padding: 10px 20px;
      border: none;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      font-size: 14px;
    }

    .btn-primary {
      background: white;
      color: #667eea;
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 20px rgba(255,255,255,0.3);
    }

    .btn-secondary {
      background: rgba(255,255,255,0.2);
      color: white;
      backdrop-filter: blur(10px);
    }

    .btn-secondary:hover {
      background: rgba(255,255,255,0.3);
    }

    .theme-toggle {
      background: rgba(255,255,255,0.2);
      border: 2px solid rgba(255,255,255,0.3);
      color: white;
      width: 44px;
      height: 44px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.3s ease;
      font-size: 20px;
    }

    .theme-toggle:hover {
      background: rgba(255,255,255,0.3);
      transform: rotate(180deg);
    }

    .summary-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }

    .summary-card {
      background: var(--bg-card);
      border-radius: 12px;
      padding: 24px;
      border: 1px solid var(--border-color);
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    .summary-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: var(--gradient-1);
      transform: scaleX(0);
      transition: transform 0.3s ease;
    }

    .summary-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 30px var(--shadow);
      border-color: var(--accent-primary);
    }

    .summary-card:hover::before {
      transform: scaleX(1);
    }

    .summary-icon {
      font-size: 2.5rem;
      margin-bottom: 12px;
      display: block;
    }

    .summary-label {
      font-size: 0.875rem;
      color: var(--text-muted);
      margin-bottom: 4px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      font-weight: 600;
    }

    .summary-value {
      font-size: 1.5rem;
      font-weight: 700;
      color: var(--text-primary);
      margin-bottom: 8px;
    }

    .summary-detail {
      font-size: 0.875rem;
      color: var(--text-secondary);
    }

    .search-filter-bar {
      background: var(--bg-secondary);
      padding: 20px;
      border-radius: 12px;
      margin-bottom: 25px;
      border: 1px solid var(--border-color);
      display: flex;
      gap: 15px;
      flex-wrap: wrap;
      align-items: center;
    }

    .search-input {
      flex: 1;
      min-width: 250px;
      padding: 12px 16px;
      border: 2px solid var(--border-color);
      border-radius: 8px;
      background: var(--bg-card);
      color: var(--text-primary);
      font-size: 14px;
      transition: all 0.3s ease;
    }

    .search-input:focus {
      outline: none;
      border-color: var(--accent-primary);
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    }

    .filter-select {
      padding: 12px 16px;
      border: 2px solid var(--border-color);
      border-radius: 8px;
      background: var(--bg-card);
      color: var(--text-primary);
      font-size: 14px;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .filter-select:focus {
      outline: none;
      border-color: var(--accent-primary);
    }

    .sections-grid {
      display: grid;
      gap: 20px;
    }

    .section {
      background: var(--bg-card);
      border: 1px solid var(--border-color);
      border-radius: 12px;
      overflow: hidden;
      transition: all 0.3s ease;
    }

    .section.expanded {
      box-shadow: 0 10px 40px var(--shadow);
    }

    .section-header {
      background: var(--bg-secondary);
      padding: 18px 24px;
      cursor: pointer;
      display: flex;
      justify-content: space-between;
      align-items: center;
      transition: all 0.3s ease;
      user-select: none;
    }

    .section-header:hover {
      background: var(--bg-card);
    }

    .section-header-left {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .section-icon {
      font-size: 1.5rem;
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: var(--gradient-1);
      border-radius: 10px;
    }

    .section-title {
      font-weight: 600;
      font-size: 1.1rem;
      color: var(--text-primary);
    }

    .section-toggle {
      font-size: 1.2rem;
      transition: transform 0.3s ease;
      color: var(--text-muted);
    }

    .section.expanded .section-toggle {
      transform: rotate(180deg);
    }

    .section-content {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .section.expanded .section-content {
      max-height: 3000px;
    }

    .section-content-inner {
      padding: 24px;
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 20px;
    }

    .detail {
      background: var(--bg-secondary);
      padding: 16px;
      border-radius: 8px;
      border-left: 3px solid var(--accent-primary);
      transition: all 0.3s ease;
    }

    .detail:hover {
      transform: translateX(5px);
      border-left-color: var(--accent-secondary);
      box-shadow: 0 4px 12px var(--shadow);
    }

    .detail-label {
      color: var(--text-muted);
      font-size: 0.875rem;
      margin-bottom: 6px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .detail-value {
      color: var(--text-primary);
      font-weight: 500;
      font-size: 1rem;
      word-break: break-word;
    }

    .badge {
      display: inline-block;
      padding: 4px 10px;
      border-radius: 12px;
      font-size: 0.75rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .badge-success {
      background: rgba(16, 185, 129, 0.2);
      color: var(--accent-success);
    }

    .badge-warning {
      background: rgba(245, 158, 11, 0.2);
      color: var(--accent-warning);
    }

    .badge-danger {
      background: rgba(239, 68, 68, 0.2);
      color: var(--accent-danger);
    }

    .badge-info {
      background: rgba(59, 130, 246, 0.2);
      color: var(--accent-primary);
    }

    .tips-section {
      background: var(--bg-card);
      border-radius: 12px;
      padding: 24px;
      margin-top: 30px;
      border: 1px solid var(--border-color);
    }

    .tips-title {
      font-size: 1.3rem;
      font-weight: 700;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .tip-item {
      padding: 12px 16px;
      background: var(--bg-secondary);
      border-radius: 8px;
      margin-bottom: 12px;
      border-left: 3px solid var(--accent-primary);
      display: flex;
      align-items: flex-start;
      gap: 12px;
      transition: all 0.3s ease;
    }

    .tip-item:hover {
      transform: translateX(5px);
      box-shadow: 0 4px 12px var(--shadow);
    }

    .tip-icon {
      font-size: 1.2rem;
      flex-shrink: 0;
    }

    .footer {
      text-align: center;
      margin-top: 40px;
      padding: 20px;
      color: var(--text-muted);
      font-size: 0.875rem;
    }

    .loading-spinner {
      display: inline-block;
      width: 14px;
      height: 14px;
      border: 2px solid var(--text-muted);
      border-top-color: var(--accent-primary);
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    .progress-bar {
      width: 100%;
      height: 8px;
      background: var(--bg-secondary);
      border-radius: 4px;
      overflow: hidden;
      margin-top: 8px;
    }

    .progress-fill {
      height: 100%;
      background: var(--gradient-1);
      border-radius: 4px;
      transition: width 0.3s ease;
    }

    @media (max-width: 768px) {
      .header h1 {
        font-size: 1.8rem;
      }

      .summary-grid {
        grid-template-columns: 1fr;
      }

      .section-content-inner {
        grid-template-columns: 1fr;
      }

      .search-filter-bar {
        flex-direction: column;
      }

      .search-input {
        width: 100%;
      }
    }

    .tooltip {
      position: relative;
      cursor: help;
    }

    .tooltip-text {
      visibility: hidden;
      position: absolute;
      z-index: 1000;
      background: var(--bg-primary);
      color: var(--text-primary);
      padding: 8px 12px;
      border-radius: 6px;
      font-size: 0.75rem;
      white-space: nowrap;
      bottom: 125%;
      left: 50%;
      transform: translateX(-50%);
      opacity: 0;
      transition: opacity 0.3s;
      border: 1px solid var(--border-color);
      box-shadow: 0 4px 12px var(--shadow);
    }

    .tooltip:hover .tooltip-text {
      visibility: visible;
      opacity: 1;
    }
  </style>
</head>
<body data-theme="dark">
  <div class="container">
    <div class="header">
      <div class="header-content">
        <div>
          <h1>üîç System Inspector Pro</h1>
          <div class="header-subtitle">Comprehensive system analysis and diagnostics</div>
        </div>
        <div class="header-controls">
          <button class="btn btn-secondary" id="refreshBtn">
            üîÑ Refresh
          </button>
          <button class="btn btn-primary" id="exportBtn">
            üì• Export Data
          </button>
          <button class="theme-toggle" id="themeToggle">üåô</button>
        </div>
      </div>
    </div>

    <div class="summary-grid" id="summaryGrid"></div>

    <div class="search-filter-bar">
      <input 
        type="text" 
        class="search-input" 
        id="searchInput" 
        placeholder="üîç Search system information..."
      >
      <select class="filter-select" id="filterSelect">
        <option value="all">All Sections</option>
        <option value="supported">Supported Features Only</option>
        <option value="unsupported">Unsupported Features Only</option>
      </select>
      <button class="btn btn-secondary" id="expandAllBtn">Expand All</button>
      <button class="btn btn-secondary" id="collapseAllBtn">Collapse All</button>
    </div>

    <div class="sections-grid" id="sectionsGrid"></div>

    <div class="tips-section" id="tipsSection"></div>

    <div class="footer">
      <p>Last updated: <span id="timestamp"></span></p>
      <p style="margin-top: 8px;">Made with ‚ù§Ô∏è for system diagnostics and analysis</p>
    </div>
  </div>

  <script>
    // Theme Management
    const themeToggle = document.getElementById('themeToggle');
    const body = document.body;
    let currentTheme = 'dark';

    themeToggle.addEventListener('click', () => {
      currentTheme = currentTheme === 'dark' ? 'light' : 'dark';
      body.setAttribute('data-theme', currentTheme);
      themeToggle.textContent = currentTheme === 'dark' ? 'üåô' : '‚òÄÔ∏è';
    });

    // Utility Functions
    function formatBytes(bytes) {
      if (bytes === 0) return '0 Bytes';
      const k = 1024;
      const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];
      const i = Math.floor(Math.log(bytes) / Math.log(k));
      return Math.round(bytes / Math.pow(k, i) * 100) / 100 + ' ' + sizes[i];
    }

    function getPerformanceScore() {
      const cpu = navigator.hardwareConcurrency || 2;
      const memory = navigator.deviceMemory || 4;
      const score = Math.min(100, (cpu * 10 + memory * 5));
      return Math.round(score);
    }

    function getBadgeClass(value, type = 'generic') {
      if (type === 'support') {
        return value.includes('Supported') || value.includes('Yes') ? 'badge-success' : 'badge-danger';
      }
      if (type === 'connection') {
        if (value.includes('4g') || value.includes('wifi')) return 'badge-success';
        if (value.includes('3g')) return 'badge-warning';
        return 'badge-danger';
      }
      return 'badge-info';
    }

    // Data Collection Functions
    function getBrowserDetails() {
      const ua = navigator.userAgent;
      let browserName = "Unknown", version = "";
      
      if (/Edg/.test(ua)) browserName = "Edge";
      else if (/Firefox/.test(ua)) browserName = "Firefox";
      else if (/Chrome/.test(ua)) browserName = "Chrome";
      else if (/Safari/.test(ua)) browserName = "Safari";
      else if (/Opera|OPR/.test(ua)) browserName = "Opera";
      
      const versionMatch = ua.match(/(Firefox|Chrome|Safari|Edge|OPR|Version)[\s\/:](\d+)/i);
      version = versionMatch ? versionMatch[2] : "";
      
      return [
        { label: "Browser", value: `${browserName} ${version}` },
        { label: "User Agent", value: ua },
        { label: "Language", value: navigator.language },
        { label: "Languages", value: navigator.languages.join(", ") },
        { label: "Cookies", value: navigator.cookieEnabled ? "Enabled" : "Disabled" },
        { label: "Do Not Track", value: navigator.doNotTrack || "Not Set" },
        { label: "Online", value: navigator.onLine ? "Yes" : "No" },
        { label: "Vendor", value: navigator.vendor || "Unknown" }
      ];
    }

    function getSystemDetails() {
      const ua = navigator.userAgent;
      const platform = navigator.platform;
      let osName = "Unknown OS";
      
      if (/Windows NT 10.0/.test(ua)) osName = "Windows 10/11";
      else if (/Mac OS X/.test(ua)) osName = "macOS";
      else if (/iPhone|iPad/.test(ua)) osName = "iOS";
      else if (/Android/.test(ua)) osName = "Android";
      else if (/Linux/.test(ua)) osName = "Linux";
      
      const isMobile = /Mobi|Android|iPhone|iPad/i.test(ua);
      const deviceType = isMobile ? "Mobile" : "Desktop";
      const arch = /x86_64|Win64|x64/.test(ua) ? "64-bit" : "32-bit";
      
      return [
        { label: "Operating System", value: osName },
        { label: "Platform", value: platform },
        { label: "Device Type", value: deviceType },
        { label: "Architecture", value: arch },
        { label: "CPU Cores", value: navigator.hardwareConcurrency || "Unknown" },
        { label: "Device Memory", value: navigator.deviceMemory ? `${navigator.deviceMemory} GB` : "Unknown" },
        { label: "Timezone", value: Intl.DateTimeFormat().resolvedOptions().timeZone },
        { label: "Dark Mode", value: window.matchMedia('(prefers-color-scheme: dark)').matches ? "Enabled" : "Disabled" },
        { label: "Reduced Motion", value: window.matchMedia('(prefers-reduced-motion: reduce)').matches ? "Enabled" : "Disabled" },
        { label: "Performance Score", value: `${getPerformanceScore()}/100` }
      ];
    }

    function getDisplayDetails() {
      const details = [
        { label: "Screen Resolution", value: `${screen.width} √ó ${screen.height}` },
        { label: "Available Screen", value: `${screen.availWidth} √ó ${screen.availHeight}` },
        { label: "Window Size", value: `${window.innerWidth} √ó ${window.innerHeight}` },
        { label: "Pixel Ratio", value: window.devicePixelRatio },
        { label: "Color Depth", value: `${screen.colorDepth} bits` },
        { label: "Pixel Depth", value: `${screen.pixelDepth} bits` },
        { label: "Orientation", value: screen.orientation ? screen.orientation.type : "Unknown" }
      ];
      
      try {
        const canvas = document.createElement("canvas");
        const gl = canvas.getContext("webgl") || canvas.getContext("experimental-webgl");
        
        if (gl) {
          const debugInfo = gl.getExtension("WEBGL_debug_renderer_info");
          if (debugInfo) {
            details.push(
              { label: "GPU Vendor", value: gl.getParameter(debugInfo.UNMASKED_VENDOR_WEBGL) },
              { label: "GPU Renderer", value: gl.getParameter(debugInfo.UNMASKED_RENDERER_WEBGL) }
            );
          }
          details.push(
            { label: "WebGL Version", value: gl.getParameter(gl.VERSION) },
            { label: "GLSL Version", value: gl.getParameter(gl.SHADING_LANGUAGE_VERSION) },
            { label: "Max Texture Size", value: `${gl.getParameter(gl.MAX_TEXTURE_SIZE)}px` },
            { label: "Max Viewport Dims", value: gl.getParameter(gl.MAX_VIEWPORT_DIMS).join(" √ó ") }
          );
        }
      } catch (e) {
        details.push({ label: "WebGL", value: "Not Available" });
      }
      
      return details;
    }

    function getNetworkDetails() {
      const details = [
        { label: "Online Status", value: navigator.onLine ? "Online" : "Offline" }
      ];
      
      if ('connection' in navigator) {
        const conn = navigator.connection;
        details.push(
          { label: "Effective Type", value: conn.effectiveType || "Unknown" },
          { label: "Downlink", value: conn.downlink ? `${conn.downlink} Mbps` : "Unknown" },
          { label: "RTT", value: conn.rtt ? `${conn.rtt} ms` : "Unknown" },
          { label: "Save Data", value: conn.saveData ? "Enabled" : "Disabled" },
          { label: "Type", value: conn.type || "Unknown" }
        );
      }
      
      return details;
    }

    function getFeatureDetails() {
      const features = [
        { name: "Geolocation", test: 'geolocation' in navigator },
        { name: "Camera/Microphone", test: 'mediaDevices' in navigator },
        { name: "Web Bluetooth", test: 'bluetooth' in navigator },
        { name: "Vibration", test: 'vibrate' in navigator },
        { name: "Push Notifications", test: 'PushManager' in window },
        { name: "Speech Recognition", test: 'SpeechRecognition' in window || 'webkitSpeechRecognition' in window },
        { name: "Speech Synthesis", test: 'speechSynthesis' in window },
        { name: "Web Share", test: 'share' in navigator },
        { name: "Gamepad API", test: 'getGamepads' in navigator },
        { name: "Web Payments", test: 'PaymentRequest' in window },
        { name: "WebGL", test: !!document.createElement('canvas').getContext('webgl') },
        { name: "WebGL 2", test: !!document.createElement('canvas').getContext('webgl2') },
        { name: "WebAssembly", test: typeof WebAssembly === 'object' },
        { name: "Service Workers", test: 'serviceWorker' in navigator },
        { name: "Web Workers", test: typeof Worker === 'function' },
        { name: "Clipboard API", test: 'clipboard' in navigator },
        { name: "Battery API", test: 'getBattery' in navigator },
        { name: "USB API", test: 'usb' in navigator },
        { name: "WebXR", test: 'xr' in navigator },
        { name: "WebRTC", test: 'RTCPeerConnection' in window },
        { name: "IndexedDB", test: 'indexedDB' in window },
        { name: "WebSockets", test: 'WebSocket' in window },
        { name: "File API", test: 'File' in window },
        { name: "Drag & Drop", test: 'draggable' in document.createElement('div') }
      ];
      
      return features.map(f => ({
        label: f.name,
        value: f.test ? "‚úÖ Supported" : "‚ùå Not Supported"
      }));
    }

    function getStorageDetails() {
      const details = [];
      
      try {
        details.push({ label: "localStorage", value: typeof localStorage !== 'undefined' ? "Available" : "Not Available" });
        details.push({ label: "sessionStorage", value: typeof sessionStorage !== 'undefined' ? "Available" : "Not Available" });
        details.push({ label: "IndexedDB", value: typeof indexedDB !== 'undefined' ? "Available" : "Not Available" });
      } catch (e) {
        details.push({ label: "Storage Access", value: "Blocked" });
      }
      
      if (performance.timing) {
        const t = performance.timing;
        details.push(
          { label: "Page Load Time", value: `${t.loadEventEnd - t.navigationStart} ms` },
          { label: "DOM Ready", value: `${t.domContentLoadedEventEnd - t.navigationStart} ms` },
          { label: "DNS Lookup", value: `${t.domainLookupEnd - t.domainLookupStart} ms` },
          { label: "TCP Connection", value: `${t.connectEnd - t.connectStart} ms` }
        );
      }
      
      return details;
    }

    // Generate Summary Cards
    function generateSummaryCards() {
      const ua = navigator.userAgent;
      let browserName = "Unknown";
      if (/Edg/.test(ua)) browserName = "Edge";
      else if (/Firefox/.test(ua)) browserName = "Firefox";
      else if (/Chrome/.test(ua)) browserName = "Chrome";
      else if (/Safari/.test(ua)) browserName = "Safari";
      
      let osName = "Unknown";
      if (/Windows/.test(ua)) osName = "Windows";
      else if (/Mac/.test(ua)) osName = "macOS";
      else if (/Android/.test(ua)) osName = "Android";
      else if (/Linux/.test(ua)) osName = "Linux";
      
      const cards = [
        {
          icon: 'üåê',
          label: 'Browser',
          value: browserName,
          detail: navigator.userAgent.match(/(?:Firefox|Chrome|Safari|Edge)[\s\/:](\d+)/i)?.[1] || 'Unknown'
        },
        {
          icon: 'üíª',
          label: 'System',
          value: osName,
          detail: navigator.platform
        },
        {
          icon: 'üñ•Ô∏è',
          label: 'Display',
          value: `${screen.width}√ó${screen.height}`,
          detail: `${window.devicePixelRatio}x Pixel Ratio`
        },
        {
          icon: '‚ö°',
          label: 'Performance',
          value: `${getPerformanceScore()}/100`,
          detail: `${navigator.hardwareConcurrency || 2} CPU cores`
        },
        {
          icon: 'üì∂',
          label: 'Connection',
          value: navigator.connection ? navigator.connection.effectiveType.toUpperCase() : 'Unknown',
          detail: navigator.onLine ? 'Online' : 'Offline'
        },
        {
          icon: 'üíæ',
          label: 'Memory',
          value: navigator.deviceMemory ? `${navigator.deviceMemory} GB` : 'Unknown',
          detail: 'Device RAM'
        }
      ];
      
      const summaryGrid = document.getElementById('summaryGrid');
      summaryGrid.innerHTML = cards.map(card => `
        <div class="summary-card">
          <span class="summary-icon">${card.icon}</span>
          <div class="summary-label">${card.label}</div>
          <div class="summary-value">${card.value}</div>
          <div class="summary-detail">${card.detail}</div>
        </div>
      `).join('');
    }

    // Generate Sections
    function generateSections() {
      const sections = [
        {
          id: 'browser',
          icon: 'üåê',
          title: 'Browser Information',
          details: getBrowserDetails()
        },
        {
          id: 'system',
          icon: 'üíª',
          title: 'System Information',
          details: getSystemDetails()
        },
        {
          id: 'display',
          icon: 'üñ•Ô∏è',
          title: 'Display & Graphics',
          details: getDisplayDetails()
        },
        {
          id: 'network',
          icon: 'üì∂',
          title: 'Network Information',
          details: getNetworkDetails()
        },
        {
          id: 'features',
          icon: '‚ú®',
          title: 'Browser Features & Capabilities',
          details: getFeatureDetails()
        },
        {
          id: 'storage',
          icon: 'üíæ',
          title: 'Storage & Performance',
          details: getStorageDetails()
        }
      ];
      
      const sectionsGrid = document.getElementById('sectionsGrid');
      sectionsGrid.innerHTML = sections.map(section => `
        <div class="section" data-section="${section.id}">
          <div class="section-header">
            <div class="section-header-left">
              <div class="section-icon">${section.icon}</div>
              <div class="section-title">${section.title}</div>
            </div>
            <div class="section-toggle">‚ñº</div>
          </div>
          <div class="section-content">
            <div class="section-content-inner">
              ${section.details.map(detail => `
                <div class="detail" data-label="${detail.label}" data-value="${detail.value}">
                  <div class="detail-label">
                    ${detail.label}
                    ${detail.label.includes('RTT') || detail.label.includes('WebGL') || detail.label.includes('CPU') ? 
                      `<span class="tooltip">‚ÑπÔ∏è<span class="tooltip-text">${getTooltip(detail.label)}</span></span>` : ''}
                  </div>
                  <div class="detail-value">
                    ${detail.value.includes('Supported') || detail.value.includes('Not Supported') ? 
                      `<span class="badge ${getBadgeClass(detail.value, 'support')}">${detail.value}</span>` : 
                      detail.value}
                  </div>
                </div>
              `).join('')}
            </div>
          </div>
        </div>
      `).join('');
      
      // Add click handlers for sections
      document.querySelectorAll('.section-header').forEach(header => {
        header.addEventListener('click', () => {
          header.parentElement.classList.toggle('expanded');
        });
      });
    }

    function getTooltip(label) {
      const tooltips = {
        'RTT': 'Round Trip Time - latency between your device and server',
        'WebGL': 'Web Graphics Library for 3D graphics',
        'WebGL 2': 'Enhanced version of WebGL with more features',
        'CPU Cores': 'Number of processing threads available',
        'GPU': 'Graphics Processing Unit for visual rendering',
        'WebAssembly': 'High-performance code execution in browsers',
        'Service Workers': 'Enables offline functionality and caching'
      };
      return tooltips[label] || 'System information';
    }

    // Generate Tips
    function generateTips() {
      const tips = [];
      const cpu = navigator.hardwareConcurrency || 2;
      const memory = navigator.deviceMemory || 4;
      const score = getPerformanceScore();
      const isDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
      const hasGoodConnection = navigator.connection?.effectiveType === '4g';
      
      if (score >= 70) {
        tips.push({ icon: '‚úÖ', text: 'Excellent system performance! Your device handles demanding tasks well.' });
      } else if (score >= 50) {
        tips.push({ icon: '‚ö†Ô∏è', text: 'Good performance. Consider closing background tabs for better speed.' });
      } else {
        tips.push({ icon: '‚ö†Ô∏è', text: 'Limited performance detected. Keep fewer applications running simultaneously.' });
      }
      
      if (window.devicePixelRatio > 1) {
        tips.push({ icon: '‚úÖ', text: 'High-resolution display detected. Enjoy crisp, clear visuals!' });
      }
      
      if (hasGoodConnection) {
        tips.push({ icon: '‚úÖ', text: 'Fast connection! Perfect for HD streaming and large downloads.' });
      } else if (navigator.connection) {
        tips.push({ icon: '‚ö†Ô∏è', text: 'Slower connection detected. Consider using data-saving modes for videos.' });
      }
      
      if ('serviceWorker' in navigator) {
        tips.push({ icon: '‚úÖ', text: 'Service Workers supported! Web apps can work offline on your device.' });
      }
      
      if (memory < 4) {
        tips.push({ icon: 'üí°', text: 'Limited RAM. Try keeping fewer browser tabs open for optimal performance.' });
      }
      
      tips.push({ 
        icon: isDark ? 'üåô' : '‚òÄÔ∏è', 
        text: `${isDark ? 'Dark' : 'Light'} mode active - ${isDark ? 'easier on your eyes at night' : 'great for daytime viewing'}.` 
      });
      
      const webglSupported = !!document.createElement('canvas').getContext('webgl');
      if (webglSupported) {
        tips.push({ icon: 'üéÆ', text: 'WebGL enabled! Your browser supports 3D graphics and games.' });
      }
      
      const tipsSection = document.getElementById('tipsSection');
      tipsSection.innerHTML = `
        <div class="tips-title">üí° Personalized Tips & Insights</div>
        ${tips.map(tip => `
          <div class="tip-item">
            <div class="tip-icon">${tip.icon}</div>
            <div>${tip.text}</div>
          </div>
        `).join('')}
      `;
    }

    // Search Functionality
    function setupSearch() {
      const searchInput = document.getElementById('searchInput');
      const filterSelect = document.getElementById('filterSelect');
      
      function performSearch() {
        const query = searchInput.value.toLowerCase();
        const filter = filterSelect.value;
        
        document.querySelectorAll('.detail').forEach(detail => {
          const label = detail.dataset.label.toLowerCase();
          const value = detail.dataset.value.toLowerCase();
          const matchesSearch = label.includes(query) || value.includes(query);
          
          let matchesFilter = true;
          if (filter === 'supported') {
            matchesFilter = value.includes('supported') || value.includes('yes') || value.includes('enabled') || value.includes('available');
          } else if (filter === 'unsupported') {
            matchesFilter = value.includes('not supported') || value.includes('no') || value.includes('disabled') || value.includes('unknown');
          }
          
          detail.style.display = (matchesSearch && matchesFilter) ? 'block' : 'none';
        });
        
        // Hide empty sections
        document.querySelectorAll('.section').forEach(section => {
          const visibleDetails = section.querySelectorAll('.detail[style="display: block;"], .detail:not([style*="display: none"])');
          section.style.display = visibleDetails.length > 0 ? 'block' : 'none';
        });
      }
      
      searchInput.addEventListener('input', performSearch);
      filterSelect.addEventListener('change', performSearch);
    }

    // Expand/Collapse All
    function setupExpandCollapse() {
      const expandBtn = document.getElementById('expandAllBtn');
      const collapseBtn = document.getElementById('collapseAllBtn');
      
      expandBtn.addEventListener('click', () => {
        document.querySelectorAll('.section').forEach(section => {
          section.classList.add('expanded');
        });
      });
      
      collapseBtn.addEventListener('click', () => {
        document.querySelectorAll('.section').forEach(section => {
          section.classList.remove('expanded');
        });
      });
    }

    // Export Functionality
    function setupExport() {
      const exportBtn = document.getElementById('exportBtn');
      
      exportBtn.addEventListener('click', () => {
        const data = {
          timestamp: new Date().toISOString(),
          browser: getBrowserDetails(),
          system: getSystemDetails(),
          display: getDisplayDetails(),
          network: getNetworkDetails(),
          features: getFeatureDetails(),
          storage: getStorageDetails(),
          performanceScore: getPerformanceScore()
        };
        
        const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = `system-report-${Date.now()}.json`;
        a.click();
        URL.revokeObjectURL(url);
      });
    }

    // Refresh Functionality
    function setupRefresh() {
      const refreshBtn = document.getElementById('refreshBtn');
      
      refreshBtn.addEventListener('click', () => {
        refreshBtn.innerHTML = '<span class="loading-spinner"></span> Refreshing...';
        refreshBtn.disabled = true;
        
        setTimeout(() => {
          initializeApp();
          refreshBtn.innerHTML = 'üîÑ Refresh';
          refreshBtn.disabled = false;
        }, 500);
      });
    }

    // Storage Usage Monitoring
    async function monitorStorage() {
      if ('storage' in navigator && navigator.storage.estimate) {
        try {
          const estimate = await navigator.storage.estimate();
          const usedMB = Math.round(estimate.usage / (1024 * 1024));
          const quotaMB = Math.round(estimate.quota / (1024 * 1024));
          const percentUsed = Math.round((estimate.usage / estimate.quota) * 100);
          
          const storageElements = document.querySelectorAll('[data-value*="Calculating"]');
          storageElements.forEach(el => {
            if (el.textContent.includes('Storage')) {
              el.innerHTML = `
                ${usedMB} MB / ${quotaMB} MB
                <div class="progress-bar">
                  <div class="progress-fill" style="width: ${percentUsed}%"></div>
                </div>
              `;
            }
          });
        } catch (e) {
          console.log('Storage API not available');
        }
      }
    }

    // Battery Monitoring
    async function monitorBattery() {
      if ('getBattery' in navigator) {
        try {
          const battery = await navigator.getBattery();
          
          const updateBattery = () => {
            const level = Math.round(battery.level * 100);
            const charging = battery.charging;
            const batteryElements = document.querySelectorAll('[data-value*="Battery"]');
            
            batteryElements.forEach(el => {
              const icon = charging ? 'üîå' : level > 50 ? 'üîã' : level > 20 ? 'ü™´' : '‚ö†Ô∏è';
              el.innerHTML = `
                <span class="badge ${level > 50 ? 'badge-success' : level > 20 ? 'badge-warning' : 'badge-danger'}">
                  ${icon} ${level}% ${charging ? '(Charging)' : ''}
                </span>
              `;
            });
          };
          
          battery.addEventListener('levelchange', updateBattery);
          battery.addEventListener('chargingchange', updateBattery);
          updateBattery();
        } catch (e) {
          console.log('Battery API not available');
        }
      }
    }

    // Media Devices Detection
    async function detectMediaDevices() {
      if (navigator.mediaDevices && navigator.mediaDevices.enumerateDevices) {
        try {
          const devices = await navigator.mediaDevices.enumerateDevices();
          const cameras = devices.filter(d => d.kind === 'videoinput').length;
          const microphones = devices.filter(d => d.kind === 'audioinput').length;
          const speakers = devices.filter(d => d.kind === 'audiooutput').length;
          
          // This would update if we had a media devices section
          console.log(`Detected: ${cameras} cameras, ${microphones} mics, ${speakers} speakers`);
        } catch (e) {
          console.log('Media devices detection failed');
        }
      }
    }

    // Network Quality Monitoring
    function monitorNetworkQuality() {
      if ('connection' in navigator) {
        const updateNetworkQuality = () => {
          const conn = navigator.connection;
          const quality = conn.effectiveType;
          const downlink = conn.downlink;
          const rtt = conn.rtt;
          
          console.log(`Network: ${quality}, ${downlink} Mbps, ${rtt}ms RTT`);
        };
        
        navigator.connection.addEventListener('change', updateNetworkQuality);
        updateNetworkQuality();
      }
    }

    // Update Timestamp
    function updateTimestamp() {
      document.getElementById('timestamp').textContent = new Date().toLocaleString();
    }

    // Initialize Application
    function initializeApp() {
      updateTimestamp();
      generateSummaryCards();
      generateSections();
      generateTips();
      setupSearch();
      setupExpandCollapse();
      setupExport();
      setupRefresh();
      
      // Start monitoring
      monitorStorage();
      monitorBattery();
      detectMediaDevices();
      monitorNetworkQuality();
      
      // Auto-update timestamp every minute
      setInterval(updateTimestamp, 60000);
    }

    // Start the application when DOM is ready
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initializeApp);
    } else {
      initializeApp();
    }
  </script>
</body>
</html>
